<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>
    <%=title%>
  </title>
  <!-- Bootstrap Core CSS -->
  <link href="../public/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- MetisMenu CSS -->
  <link href="../public/vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link href="../public/dist/css/sb-admin-2.css" rel="stylesheet">

  <!-- Custom Fonts -->
  <link href="../public/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <script src="../public/vendor/jquery/jquery.min.js"></script>

  <style>
    /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */

    #map {
      height: 500px;
      margin-bottom: 20px;
      margin-top: 10px;
    }

    /* Optional: Makes the sample page fill the window. */

    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #description {
      font-family: Roboto;
      font-size: 15px;
      font-weight: 300;
    }

    #infowindow-content .title {
      font-weight: bold;
    }

    #infowindow-content {
      display: none;
    }

    #map #infowindow-content {
      display: inline;
    }

    .pac-controls label {
      font-family: Roboto;
      font-size: 13px;
      font-weight: 300;
    }

    #pac-input:focus {
      border-color: #4d90fe;
    }

    #bt-submit {
      margin-top: 10px;
    }
  </style>
</head>

<body>

  <div id="wrapper">

    <!-- Navigation -->
    <% include ./layout/nav%>
      <div id="page-wrapper">
        <div class="container-fluid">

          <div class="row">
            <div class="col-lg-12">
              <h4 class="page-header">Thêm địa điểm du lịch</h4>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-6">
              <label for="">Place Name</label>
              <input class="form-control form-control-sm" type="text" id="place_name" placeholder="Place Name...">
              <label for="pac-input">Address </label>
              <input class="form-control form-control-sm" id="pac-input" type="text" placeholder="Enter a location...">
              <label for="">Category</label>
              <select class="form-control form-control-sm" name="category" id="sub_category"></select>
              <label for="">Province</label>
              <select class="form-control form-control-sm" name="province" id="province"></select>
              <label for="">Phone</label>
              <input class="form-control form-control-sm" id="phone" type="text" placeholder="Number phone...">
              <label for="">Tag</label>
              <input class="form-control form-control-sm" type="text" name="tag" id="tag" placeholder="Tag...">
              <label for="">Thumbnail</label>
              <input class="form-control form-control-sm" id="thumbnail" type="text" placeholder="Thumbnail...">
              <label for="">Detail</label>
              <input type="text" class="form-control form-control-sm" id="detail" placeholder="Detail...">
              <input class="btn btn-primary" id="bt-submit" type="submit" value="Add Place">
              <div class="pac-card" id="pac-card">
                <div id="pac-container">

                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="" id="map"></div>
              <div id="infowindow-content">
                <img src="" width="16" height="16" id="place-icon">
                <span id="place-name" class="title"></span>
                <br>
                <span id="place-address"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>

  <div id="modalConfirm" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Notification</h4>
        </div>
        <div class="modal-body">
          <p>ADD place success!</p>
          <input type="hidden" id="hiddenVal">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="btnOk" data-dismiss="modal">OK</button>
        </div>
      </div>

    </div>
  </div>

  <!-- modal add success -->
  <div id="modalError" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Notification</h4>
        </div>
        <div class="modal-body">
          <p>ADD place fail!</p>
          <input type="hidden" id="hiddenVal">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="btnOk" data-dismiss="modal">OK</button>
        </div>
      </div>
  
    </div>
  </div>

<!-- 
  <script>

    $(document).ready(function() {

      $('#bt-submit').click(function() {
        // add new place use method post with ajax
        let a = $('#sub_category').val();
        let b = $('#province').val();
        let c = $('#thumbnail').val();
        let d = $('#place_name').val();
        let e = $('#phone').val();
        let f = $('#pac-input').val();
        let g = $('#tag').val();
        let h = $('#detail').val();

        $.post('http://tlsg.tk/api/place/add', {
          'token': '6ba2b9df31680dcda5a4a083',
          'sub_category_id': a,
          'province_id': b,
          'thumbnail': c,
          'place_name': d,
          'phone': e,
          'address': f,
          'tag': g,
          'detail': h
        }, function(data, status) {
          if (status == 'success') {
            $('#modalConfirm').modal('show');
            console.log('A:'+a+'B:'+b+'C:'+c+'D:'+d+'E:'+e+'F:'+f+'G:'+g+'H:'+h);
            $('#modalConfirm').on('click', '#btnOk', function() {
              window.location.replace('http://tlsg.tk/admin/list-place');
            });

          }else{
            $('#modalError').modal('show');
            $('#modalError').on('click','#btOk',function(){
              window.location.replace('http://tlsg.tk/admin/add-place');
            });
          }
        });

      });



    });
  </script> -->


  <script src="../public/js/add-place.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBQ_AZwWhIPQYTsAccJQe1yzvBM1qNNEVQ&libraries=places&callback=initMap" async defer></script>
  <!-- Bootstrap Core JavaScript -->
  <script src="../public/vendor/bootstrap/js/bootstrap.min.js"></script>

  <!-- Metis Menu Plugin JavaScript -->
  <script src="../public/vendor/metisMenu/metisMenu.min.js"></script>

  <!-- Custom Theme JavaScript -->
  <script src="../public/dist/js/sb-admin-2.js"></script>
</body>

</html>
